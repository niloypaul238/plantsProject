<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Earth project</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- css  -->
     <link rel="stylesheet" href="styyle.css">
     <!-- fontawsome cdn link -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    
    <!-- nav bar section -->
     <nav class="bg-green-800 w-full py-3">
        <div class="w-11/12 mx-auto   text-white grid grid-cols-3 justify-center items-center">
            <p class="">Green Earth</p>
            <div class="">
                <ul class="flex justify-around">
                    <li class="hover:underline cursor-pointer">About</li>
                    <li class="hover:underline cursor-pointer" >Gallery</li>
                    <li class="hover:underline cursor-pointer" >Plant a Treea</li>
                </ul>
            </div>
            <div class="">
                <button class="btn btn-warning rounded-full float-end">Plant a Tree</button>
            </div>

        </div>
     </nav>
     <!-- header section -->
      <header  class="bg-blue-100 grid grid-cols-3 items-center justify-center"> 
            <img src="assets/hero-leaf1.png" alt="">
            <div class="text-center">
                <h1 class="text-3xl font-semibold">Plant a Tree, Grow a Future</h1>
                <p class="text-[12px] ">Join our mission to plant 1 million trees and make the Earth greener for future <br> generations</p>
                <button class="btn btn-warning rounded-full text-green-900 mt-3">Get Involved</button>
            </div>
            <img src="assets/hero-leaf2.png" alt="">
      </header>


      <main class="bg-slate-100 pt-17">
            <!-- Choose Your Trees -->
            <section class="w-11/12 mx-auto  bg-blue-1">
                <h1 class="text-center text-2xl font-semibold text-gray-800">Choose Your Trees</h1>
                <div class="sm:grid grid-cols-12 gap-x-4 mt-5">
                    <div class="col-span-2 ">
                        <p class="p-1 font-semibold">Categories</p>
                        <div class="mt-1">
                            <ul class="catagoryList">
                                <li class="active  p-1">All </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-span-8 gap-4 sm:grid grid-cols-3 mb-10 plantsCards">

                        <!--  -->
                        <!-- <div class="card bg-base-100 bg-white p-3 shadow-sm">
                            <figure>
                                <img
                                src="https://img.daisyui.com/images/stock/photo-1606107557195-0e29a4b5b4aa.webp"
                                alt="Shoes" />
                            </figure>
                            <div class="">
                                <h2 class="card-title">Card Title</h2>
                                <p>A card component has a figure, a body part, and inside body there are title and actions parts</p>
                                <div class="flex justify-between my-2 text-sm">
                                    <p class="bg-green-200 rounded-full px-3 py-1 text-green-600">Fruit Tree</p>
                                    <p>à§³500</p>
                                </div>
                                <button class="bg-green-700 text-center w-full rounded-full p-2 hover:bg-green-600 duration-150 text-white cursor-pointer">Add to Cart</button>
                            </div>
                        </div> -->
                        
                    </div>
                    <div class="col-span-2 bg-white rounded p-2 h-150 overflow-y-auto">
                        <p>Your Cart</p>
                        <div class="border-b border-gray-200 pb-4">
                            <div class="flex flex-row justify-between items-center mt-1 bg-gray-200 p-2 rounded">
                                <div>
                                    <h1>Plant Name</h1>
                                    <p class="text-sm mt-1">TK <span>500</span> <i class="fa-solid fa-xmark text-gray-400 text-sm"></i> <span> 1</span></p>
                                </div>
                                <i class="fa-solid fa-xmark text-gray-400 text-lg cursor-pointer hover:text-gray-300 duration-150"></i>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-gray-700"><p>Total :</p> <span>0 <span>TK</span></span></div>
                        </div>
                    </div>
                </div>
            </section>
      </main>
    


      <script>
        let catagoryList = document.querySelector('.catagoryList');
        let plantsCards = document.querySelector('.plantsCards');

        // catagorys
        let loadCatagory = () => {
            fetch(`https://openapi.programming-hero.com/api/categories`)
            .then(res => res.json())
            .then(data => {
                displayCata(data.categories)
            })
            
        }
        let displayCata = (peras) => {
            
            for( let pera of peras){
                catagoryList.innerHTML += `
                    <li onclick="catagoryByCarID(${pera.id})" id="${pera.id}" class="hover:bg-green-800 hover:text-white duration-200 cursor-pointer p-1">${pera.category_name}</li>
                `;

                // active section
                let catagoryLists = catagoryList.querySelectorAll('li') 

                catagoryLists.forEach( singleBtnActive => {
                
                    singleBtnActive.addEventListener('click' , () => {
                        
                        for(let i of catagoryLists){
                            i.classList.remove('active')
                        }
                    singleBtnActive.classList.add('active')
                    })
                }) 
            
        
        
            }
        }
        
        // all card 
        let allPlants = () => {
            fetch("https://openapi.programming-hero.com/api/plants")
            .then(rs => rs.json())
            .then(data => showPlants(data.plants))
        }

        // ID BY PLANTS SHOW
        let catagoryByCarID = (id) => {
            fetch(`https://openapi.programming-hero.com/api/category/${id}`)
            .then(res => res.json())
            .then(data => showPlants(data.plants))
        }
        // let shwoIdBycardPlant = (plants) => {
        //     console.log(plants.plants);
        // }

        let showPlants = (plnts) => {
            plantsCards.innerHTML = ""
            plnts.forEach(plat => {
                plantsCards.innerHTML += `
                
                        <div class="card bg-base-100 bg-white p-3 shadow-sm max-h-80">
                            <figure>
                                <img class="h-30 w-full object-cover"
                                src="${plat.image}"
                                alt="Shoes" />
                            </figure>
                            <div class="">
                                <h2 class="card-title">${plat.name}</h2>
                                <p>${plat.description.slice(0,40)}....</p>
                                <div class="flex justify-between my-2 text-sm">
                                    <p class="bg-green-100 rounded-full px-3 py-1 text-green-600">${plat.category}</p>
                                    <p>TK <span>${plat.price}</span></p>
                                </div>
                                <button class="bg-green-700 text-center w-full rounded-full p-2 hover:bg-green-600 duration-150 text-white cursor-pointer">Add to Cart</button>
                            </div>
                        </div>
                
                `
            })
        }
        allPlants()
        loadCatagory()
      </script>
</body>
</html>