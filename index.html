<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Earth project</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- css  -->
     <link rel="stylesheet" href="styyle.css">
     <!-- fontawsome cdn link -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    
    <!-- nav bar section -->
     <nav class="bg-green-800 w-full py-3">
        <div class="sm:w-11/12 w-12/12 mx-auto gap-y-2   text-white grid grid-cols-2 sm:grid-cols-3 sm:justify-center items-center">
            <p class="text-center sm:text-start col-span-2 sm:col-span-1 text-2xl sm:text-2xl">Green Earth</p>
            <div class="">
                <ul class="flex justify-around text-sm sm:text-lg">
                    <li class="hover:underline cursor-pointer">About</li>
                    <li class="hover:underline cursor-pointer" >Gallery</li>
                    <li class="hover:underline cursor-pointer" >Plant a Treea</li>
                </ul>
            </div>
            <div class=" ">
                <button class="btn btn-xs sm:btn-md btn-warning rounded-full text-green-900 mt-3  float-end">Plant a Tree</button>
                
            </div>

        </div>
     </nav>
     <!-- header section -->
      <header  class="bg-blue-100 grid grid-cols-6   sm:grid-cols-3 items-center justify-center"> 
            <div class="h-full flex items-end sm:items-center"><img class="w-30 sm:w-[100%] " src="assets/hero-leaf1.png" alt=""></div>
            
            <div class="text-center col-span-4 sm:col-span-1">
                <h1 class="sm:text-3xl text-lg font-semibold">Plant a Tree, Grow a Future</h1>
                <p class="sm:text-[12px] text-[7px]">Join our mission to plant 1 million trees and make the Earth greener for future <br> generations</p>
                <button class="btn btn-xs sm:btn-md btn-warning rounded-full text-green-900 mt-3">Get Involved</button>
            </div>
            <div class="h-full flex items-end sm:items-center"><img class="w-30 sm:w-[100%] " src="assets/hero-leaf2.png" alt=""></div>
      </header>


      <main class="bg-slate-200 pt-17">
            <!-- Choose Your Trees -->
            <section class="w-11/12 mx-auto  bg-blue-1">
                <h1 class="text-center sm:text-2xl font-semibold text-gray-800">Choose Your Trees</h1>
                <div class="sm:grid grid-cols-12 gap-x-4 mt-5">
                    <div class="col-span-2 ">
                        <p class="p-1 font-semibold">Categories</p>
                        <div class="mt-1">
                            <ul class="catagoryList">
                                <li class="active hover:bg-green-800 hover:text-white duration-200 cursor-pointer p-1" onclick="catagoryByCarID('all')">All </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-span-8 sm:gap-4 gap-y-6 grid sm:grid-cols-3 mb-10 plantsCards">

                        <span class="loading loading-dots loading-xs"></span>
                        
                    </div>
                    <div class="col-span-2 bg-white rounded p-2 h-150 overflow-y-auto">
                        <p>Your Cart</p>
                        <div class="border-b border-gray-200 pb-4 cardAppend">
                            
                        </div>
                        <div>
                            <div class="flex justify-between text-gray-700"><p>Total :</p> <span class="totalBlance">0 <span>TK</span></span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- About the Campaign -->
             <section class="w-11/12 mx-auto mt-20">
                <h1 class="text-center text-2xl sm:text-3xl font-semibold">About the Campaign</h1>
                <div class="grid sm:grid-cols-2 items-center mt-10">
                    <div>
                        <img src="assets/about.png" class="" alt="">
                    </div>
                    <div class="text-gray-500 py-4 sm:py-0">
                        <p>Green Earth is a global tree plantation initiative dedicated to fighting climate change. Since our start, we’ve planted over 500,000 trees worldwide. By joining our campaign, you help restore forests, create habitats for wildlife, and combat global warming.</p>
                        <div class="ml-4 mt-2" >
                            <ul class="list-disc ">
                                <li>Restoration of natural habitats</li>
                                <li>Improvement of air quality</li>
                                <li>Support for local communities</li>
                            </ul>
                        </div>
                        
                    </div>
                </div>
             </section>

             <!-- Our Impact -->
              <section class="bg-green-200 w-full">
                <div class="w-11/12 mx-auto p-12">
                    <h1 class="text-center my-7 text-2xl font-semibold">Our Impact</h1>
                    <div class="grid sm:grid-cols-3 gap-x-9 gap-y-3">
                        <div class="bg-white text-center p-5 rounded-md">
                            <p class="text-green-700 text-2xl font-bold">500K+</p>
                            <P>Trees Planted</P>
                        </div>
                        <div class="bg-white text-center p-5 rounded-md">
                            <p class="text-green-700 text-2xl font-bold">120+</p>
                            <P>Communities Involved</P>
                        </div>
                        <div class="bg-white text-center p-5 rounded-md">
                            <p class="text-green-700 text-2xl font-bold">30+</p>
                            <P>Countries Reached</P> 
                        </div>
                    </div>
                </div>
                    
              </section>

              <!-- plant a tree todday -->
               <section class="bg-green-800">
                    <div class="text-white py-3 sm:p-10 w-[90%] sm:w-[50%] mx-auto">
                        <h1 class="text-center my-7 text-2xl font-semibold">Plant a Tree Today</h1>
                        <div class="flex gap-y-2  flex-col bg-green-700 p-8 rounded">
                            <input type="text" class="bg-white rounded p-2 text-black border-none outline-none" placeholder="Your Name" name="" id="">
                            <input type="email" class="bg-white rounded p-2 text-black border-none outline-none" placeholder="Your Email Address" name="" id="">
                            <select name="" class="bg-white rounded p-2 text-black border-none outline-none" id="" >
                                <option value="" hidden>Number of Trees</option>
                                <option value="">1</option>
                                <option value="">2</option>
                                <option value="">3</option>
                            </select>
                            <button class="btn btn-sm btn-warning rounded-full">Donate Now</button>

                        </div>
                    </div>
                    

               </section>
               <section class="bg-green-900 text-white py-4">
                    <p class="text-center text-sm">© 2025 Green Earth. All Rights Reserved.</p>
               </section>
      </main>
    
      <!-- model section  -->
        <dialog id="showIdModel" class="modal">
        <div class="modal-box">
            <div class="modelDtls space-y-2">

            </div>            
            <div class="modal-action">
            <form method="dialog">
                <!-- if there is a button in form, it will close the modal -->
                <button class="btn">Close</button>
            </form>
            </div>
        </div>
        </dialog>

      <script>
        let catagoryList = document.querySelector('.catagoryList');
        let plantsCards = document.querySelector('.plantsCards');
        let modelDtls = document.querySelector('.modelDtls')
        let cardAppend = document.querySelector('.cardAppend')
        let totalBlance = document.querySelector('.totalBlance')
        // catagorys
        let loadCatagory = () => {
            fetch(`https://openapi.programming-hero.com/api/categories`)
            .then(res => res.json())
            .then(data => {
                displayCata(data.categories)
            })
            
        }
        let displayCata = (peras) => {
            
            for( let pera of peras){
                catagoryList.innerHTML += `
                    <li onclick="catagoryByCarID(${pera.id})" id="${pera.id}" class="hover:bg-green-800 hover:text-white duration-200 cursor-pointer p-1">${pera.category_name}</li>
                `;

                // active section
                let catagoryLists = catagoryList.querySelectorAll('li') 

                catagoryLists.forEach( singleBtnActive => {
                
                    singleBtnActive.addEventListener('click' , () => {
                        
                        for(let i of catagoryLists){
                            i.classList.remove('active')
                        }
                    singleBtnActive.classList.add('active')
                    })
                }) 
            
        
        
            }
        }
        
        // all card 
        let allPlants = () => {
            fetch("https://openapi.programming-hero.com/api/plants")
            .then(rs => rs.json())
            .then(data =>{
                loading()
                showPlants(data.plants)  
            } )
        }

        // ID BY PLANTS SHOW
        let catagoryByCarID = (id) => {
            if(id == "all"){
                allPlants()
            }else{
                fetch(`https://openapi.programming-hero.com/api/category/${id}`)
                .then(res => res.json())
                .then(data =>{
                    loading()
                   showPlants(data.plants)  
                })
            }
            
        }

        let showPlants = (plnts) => {
            plantsCards.innerHTML = ""
            plnts.forEach(plat => {
                plantsCards.innerHTML += `
                
                        <div class="card bg-base-100 bg-white p-3 shadow-sm max-h-80">
                            <figure>
                                <img class="h-30 w-full object-cover"
                                src="${plat.image}"
                                alt="Shoes" />
                            </figure>
                            <div class="">
                                <h2 class="card-title hover:underline hover:underline-offset-4" onclick="modelOpen(${plat.id})">${plat.name}</h2>
                                <p>${plat.description.slice(0,40)}....</p>
                                <div class="flex justify-between my-2 text-sm">
                                    <p class="bg-green-100 rounded-full px-3 py-1 text-green-600">${plat.category}</p>
                                    <p>TK <span>${plat.price}</span></p>
                                </div>
                                <button onclick="cardAdd(${plat.id})"" class="bg-green-700 text-center w-full rounded-full p-2 hover:bg-green-600 duration-150 text-white cursor-pointer">Add to Cart</button>
                            </div>
                        </div>
                
                `
            })
        }

        // model section
        let modelOpen = (id) => {
            fetch(`https://openapi.programming-hero.com/api/plant/${id}`)
            .then(res => res.json())
            .then(data =>{
                document.getElementById('showIdModel').showModal()
                showModelDtls(data.plants)
            } )
        }
        let showModelDtls = (data) => {
            console.log(data);
            modelDtls.innerHTML = `
                <h2 class="font-bold text-2xl">${data.name}</h2>
                <img class="h-50 w-full object-cover rounded" src="${data.image}" alt="">
                <p><span class="font-bold">Category :</span> ${data.category}</p>
                <p><span class="font-bold">Price :</span> ${data.price}</p>
                <p><span class="font-bold">Discription :</span> ${data.description}</p>
            `
        }
       
        // card sectio 
        let cardAdd = (id) => {
             fetch(`https://openapi.programming-hero.com/api/plant/${id}`)
            .then(res => res.json())
            .then(data =>showCardDta(data.plants))
        }
        let showCardDta = (plan) => {
            cardAppend.innerHTML += `

                    <div class="flex flex-row justify-between items-center mt-1 bg-gray-200 p-2 rounded">
                            <div>
                                <h1>${plan.name}</h1>
                                <p class="text-sm mt-1">TK <span class="prize">${plan.price}</span> <i class="fa-solid fa-xmark text-gray-400 text-sm"></i> <span> 1</span></p>
                            </div>
                            <i  class="fa-solid fa-xmark text-red-400 delte text-lg cursor-pointer hover:text-gray-300 duration-150"></i>
                    </div>
            
            `
            // prize section
            prize()
            // delete function 
            let xMarks = cardAppend.querySelectorAll('.delte')
            xMarks.forEach( singleDelte => {
                singleDelte.addEventListener('click' , delteFun)
            })
        }
        // delete function
        let delteFun = (e) => {
            e.target.parentElement.remove()
            prize()
        }



        // prize section 
        let prize = () => {
            let prizes = cardAppend.querySelectorAll('.prize');
            let sum = 0;
            prizes.forEach( prize => {
                sum += Number(prize.innerHTML)
            })
            totalBlance.innerHTML = sum;
        }
       
        
       
        //    loading section
       let loading = () =>{
            plantsCards.innerHTML =`<span class="loading loading-dots loading-xs"></span>`
       }
       

        //delete function
            
        allPlants()
        loadCatagory()
      </script>
</body>
</html>